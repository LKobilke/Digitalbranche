<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Solutions | R for digital media analysis</title>
  <meta name="description" content="Digital industry: Current developments and challenges - B.A. Seminar at the IfKW, SS 2022" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Solutions | R for digital media analysis" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Digital industry: Current developments and challenges - B.A. Seminar at the IfKW, SS 2022" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Solutions | R for digital media analysis" />
  
  <meta name="twitter:description" content="Digital industry: Current developments and challenges - B.A. Seminar at the IfKW, SS 2022" />
  

<meta name="author" content="Lara Kobilke, IfKW, Ludwig-Maximilians-Universität München" />


<meta name="date" content="2022-07-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tidy-text-analysis.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Digital Media</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>General information on the course</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-can-i-learn-from-this-tutorial"><i class="fa fa-check"></i>What can I learn from this tutorial?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-can-i-do-if-i-have-a-question"><i class="fa fa-check"></i>What can I do if I have a question?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-can-i-do-if-i-have-problems-with-my-r-code"><i class="fa fa-check"></i>What can I do if I have problems with my R code?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html"><i class="fa fa-check"></i><b>1</b> Tutorial: Installing &amp; Understanding R/R Studio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#installing-r"><i class="fa fa-check"></i><b>1.1</b> Installing R</a></li>
<li class="chapter" data-level="1.2" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#installing-r-studio"><i class="fa fa-check"></i><b>1.2</b> Installing R Studio</a></li>
<li class="chapter" data-level="1.3" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#updating-r-and-r-studio"><i class="fa fa-check"></i><b>1.3</b> Updating R and R Studio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#on-windows"><i class="fa fa-check"></i><b>1.3.1</b> On Windows</a></li>
<li class="chapter" data-level="1.3.2" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#on-mac"><i class="fa fa-check"></i><b>1.3.2</b> On MAC</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#how-does-r-work"><i class="fa fa-check"></i><b>1.4</b> How does R work?</a></li>
<li class="chapter" data-level="1.5" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#why-should-i-use-r"><i class="fa fa-check"></i><b>1.5</b> Why should I use R?</a></li>
<li class="chapter" data-level="1.6" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#how-does-r-studio-work"><i class="fa fa-check"></i><b>1.6</b> How does R Studio work?</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#source-writing-your-own-code"><i class="fa fa-check"></i><b>1.6.1</b> Source: Writing your own code</a></li>
<li class="chapter" data-level="1.6.2" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#console-printing-results"><i class="fa fa-check"></i><b>1.6.2</b> Console: Printing results</a></li>
<li class="chapter" data-level="1.6.3" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#environment-overview-of-objects"><i class="fa fa-check"></i><b>1.6.3</b> Environment: Overview of objects</a></li>
<li class="chapter" data-level="1.6.4" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#plotshelppackages-do-everything-else"><i class="fa fa-check"></i><b>1.6.4</b> Plots/Help/Packages: Do everything else</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#packages"><i class="fa fa-check"></i><b>1.7</b> Packages</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#installing-packages"><i class="fa fa-check"></i><b>1.7.1</b> Installing packages</a></li>
<li class="chapter" data-level="1.7.2" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#activating-packages"><i class="fa fa-check"></i><b>1.7.2</b> Activating packages</a></li>
<li class="chapter" data-level="1.7.3" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#getting-information-about-packages"><i class="fa fa-check"></i><b>1.7.3</b> Getting information about packages</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#take-aways"><i class="fa fa-check"></i><b>1.8</b> Take-Aways</a></li>
<li class="chapter" data-level="1.9" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#additional-tutorials"><i class="fa fa-check"></i><b>1.9</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html"><i class="fa fa-check"></i><b>2</b> Tutorial: Using R as a calculator</a>
<ul>
<li class="chapter" data-level="2.1" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html#using-variables-for-calculation"><i class="fa fa-check"></i><b>2.1</b> Using variables for calculation</a></li>
<li class="chapter" data-level="2.2" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html#using-vectors-for-calculation"><i class="fa fa-check"></i><b>2.2</b> Using vectors for calculation</a></li>
<li class="chapter" data-level="2.3" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html#selecting-values-from-a-vector"><i class="fa fa-check"></i><b>2.3</b> Selecting values from a vector</a></li>
<li class="chapter" data-level="2.4" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html#take-aways-1"><i class="fa fa-check"></i><b>2.4</b> Take-Aways</a></li>
<li class="chapter" data-level="2.5" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html#additional-tutorials-1"><i class="fa fa-check"></i><b>2.5</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html"><i class="fa fa-check"></i><b>3</b> Tutorial: Working with data (files)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#defining-your-working-directory"><i class="fa fa-check"></i><b>3.1</b> Defining your working directory</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#optional-setting-the-working-directory-on-a-remote-desktop"><i class="fa fa-check"></i><b>3.1.1</b> Optional: Setting the working directory on a remote desktop</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#import-data-from-your-working-directory"><i class="fa fa-check"></i><b>3.2</b> Import data from your working directory</a></li>
<li class="chapter" data-level="3.3" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#subsetting-variables-columns-in-data-frames"><i class="fa fa-check"></i><b>3.3</b> Subsetting variables / columns in data frames</a></li>
<li class="chapter" data-level="3.4" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#subsetting-observations-rows-in-data-frames"><i class="fa fa-check"></i><b>3.4</b> Subsetting observations / rows in data frames</a></li>
<li class="chapter" data-level="3.5" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#subsetting-values-cells-in-data-frames"><i class="fa fa-check"></i><b>3.5</b> Subsetting values / cells in data frames</a></li>
<li class="chapter" data-level="3.6" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#subsetting-data-with-conditions"><i class="fa fa-check"></i><b>3.6</b> Subsetting data with conditions</a></li>
<li class="chapter" data-level="3.7" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#take-aways-2"><i class="fa fa-check"></i><b>3.7</b> Take-Aways</a></li>
<li class="chapter" data-level="3.8" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#additional-tutorials-2"><i class="fa fa-check"></i><b>3.8</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html"><i class="fa fa-check"></i>Exercise 1</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html#task-1"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html#task-2"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html#task-3"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html#task-4"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html#task-5"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html#task-6"><i class="fa fa-check"></i>Task 6</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html"><i class="fa fa-check"></i><b>4</b> Tutorial: Data management with tidyverse</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#why-not-stick-with-base-r"><i class="fa fa-check"></i><b>4.1</b> Why not stick with Base R?</a></li>
<li class="chapter" data-level="4.2" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#tidyverse-packages"><i class="fa fa-check"></i><b>4.2</b> Tidyverse packages</a></li>
<li class="chapter" data-level="4.3" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.3</b> Tidy data</a></li>
<li class="chapter" data-level="4.4" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#the-pipe-operator"><i class="fa fa-check"></i><b>4.4</b> The pipe operator</a></li>
<li class="chapter" data-level="4.5" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#data-transformation-with-dplyr"><i class="fa fa-check"></i><b>4.5</b> Data transformation with dplyr</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#select"><i class="fa fa-check"></i><b>4.5.1</b> select()</a></li>
<li class="chapter" data-level="4.5.2" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#filter"><i class="fa fa-check"></i><b>4.5.2</b> filter()</a></li>
<li class="chapter" data-level="4.5.3" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#arrange"><i class="fa fa-check"></i><b>4.5.3</b> arrange()</a></li>
<li class="chapter" data-level="4.5.4" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#mutate"><i class="fa fa-check"></i><b>4.5.4</b> mutate()</a></li>
<li class="chapter" data-level="4.5.5" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#summarize-group_by"><i class="fa fa-check"></i><b>4.5.5</b> summarize() [+ group_by()]</a></li>
<li class="chapter" data-level="4.5.6" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#chaining-functions-in-a-pipe"><i class="fa fa-check"></i><b>4.5.6</b> Chaining functions in a pipe</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#take-aways-3"><i class="fa fa-check"></i><b>4.6</b> Take-Aways</a></li>
<li class="chapter" data-level="4.7" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#additional-tutorials-3"><i class="fa fa-check"></i><b>4.7</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-2-test-your-knowledge.html"><a href="exercise-2-test-your-knowledge.html"><i class="fa fa-check"></i>Exercise 2: Test your knowledge</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-2-test-your-knowledge.html"><a href="exercise-2-test-your-knowledge.html#task-1-1"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="exercise-2-test-your-knowledge.html"><a href="exercise-2-test-your-knowledge.html#task-2-1"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="exercise-2-test-your-knowledge.html"><a href="exercise-2-test-your-knowledge.html#task-3-1"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="exercise-2-test-your-knowledge.html"><a href="exercise-2-test-your-knowledge.html#task-4-1"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="exercise-2-test-your-knowledge.html"><a href="exercise-2-test-your-knowledge.html#task-5-1"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="exercise-2-test-your-knowledge.html"><a href="exercise-2-test-your-knowledge.html#task-6-1"><i class="fa fa-check"></i>Task 6</a></li>
<li class="chapter" data-level="" data-path="exercise-2-test-your-knowledge.html"><a href="exercise-2-test-your-knowledge.html#task-7"><i class="fa fa-check"></i>Task 7</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html"><i class="fa fa-check"></i><b>5</b> Tutorial: Data visualization with ggplot</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#why-not-stick-with-base-r-1"><i class="fa fa-check"></i><b>5.1</b> Why not stick with Base R?</a></li>
<li class="chapter" data-level="5.2" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#components-of-a-ggplot-graph"><i class="fa fa-check"></i><b>5.2</b> Components of a ggplot graph</a></li>
<li class="chapter" data-level="5.3" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#installing-activating-ggplot"><i class="fa fa-check"></i><b>5.3</b> Installing &amp; activating ggplot</a></li>
<li class="chapter" data-level="5.4" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#building-your-first-plot"><i class="fa fa-check"></i><b>5.4</b> Building your first plot</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#data"><i class="fa fa-check"></i><b>5.4.1</b> Data</a></li>
<li class="chapter" data-level="5.4.2" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#aesthetics"><i class="fa fa-check"></i><b>5.4.2</b> Aesthetics</a></li>
<li class="chapter" data-level="5.4.3" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#geometrics"><i class="fa fa-check"></i><b>5.4.3</b> Geometrics</a></li>
<li class="chapter" data-level="5.4.4" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#scales"><i class="fa fa-check"></i><b>5.4.4</b> Scales</a></li>
<li class="chapter" data-level="5.4.5" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#themes"><i class="fa fa-check"></i><b>5.4.5</b> Themes</a></li>
<li class="chapter" data-level="5.4.6" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#labs"><i class="fa fa-check"></i><b>5.4.6</b> Labs</a></li>
<li class="chapter" data-level="5.4.7" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#facets"><i class="fa fa-check"></i><b>5.4.7</b> Facets</a></li>
<li class="chapter" data-level="5.4.8" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#saving-graphs"><i class="fa fa-check"></i><b>5.4.8</b> Saving graphs</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#other-common-plot-types"><i class="fa fa-check"></i><b>5.5</b> Other common plot types</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#bar-plots"><i class="fa fa-check"></i><b>5.5.1</b> bar plots</a></li>
<li class="chapter" data-level="5.5.2" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#box-plots"><i class="fa fa-check"></i><b>5.5.2</b> box plots</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#take-aways-4"><i class="fa fa-check"></i><b>5.6</b> Take Aways</a></li>
<li class="chapter" data-level="5.7" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#additional-tutorials-4"><i class="fa fa-check"></i><b>5.7</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html"><i class="fa fa-check"></i>Exercise 3: Test your knowledge</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html#task-1-2"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html#task-2-2"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html#task-3-2"><i class="fa fa-check"></i>Task 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html"><i class="fa fa-check"></i>Exercise 4: Test your knowledge</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-1-3"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-2-3"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-3-3"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-4-2"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-5-2"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-6-2"><i class="fa fa-check"></i>Task 6</a></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-7-1"><i class="fa fa-check"></i>Task 7</a></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-8"><i class="fa fa-check"></i>Task 8</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tutorial-text-manipulation-with-stringr.html"><a href="tutorial-text-manipulation-with-stringr.html"><i class="fa fa-check"></i><b>6</b> Tutorial: Text manipulation with stringr</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tutorial-text-manipulation-with-stringr.html"><a href="tutorial-text-manipulation-with-stringr.html#whats-stringr"><i class="fa fa-check"></i><b>6.1</b> What’s stringr?</a></li>
<li class="chapter" data-level="6.2" data-path="tutorial-text-manipulation-with-stringr.html"><a href="tutorial-text-manipulation-with-stringr.html#working-with-strings"><i class="fa fa-check"></i><b>6.2</b> Working with strings</a></li>
<li class="chapter" data-level="6.3" data-path="tutorial-text-manipulation-with-stringr.html"><a href="tutorial-text-manipulation-with-stringr.html#working-with-string-patterns"><i class="fa fa-check"></i><b>6.3</b> Working with string patterns</a></li>
<li class="chapter" data-level="6.4" data-path="tutorial-text-manipulation-with-stringr.html"><a href="tutorial-text-manipulation-with-stringr.html#working-with-regular-expressions"><i class="fa fa-check"></i><b>6.4</b> Working with regular expressions</a></li>
<li class="chapter" data-level="6.5" data-path="tutorial-text-manipulation-with-stringr.html"><a href="tutorial-text-manipulation-with-stringr.html#take-aways-5"><i class="fa fa-check"></i><b>6.5</b> Take-Aways</a></li>
<li class="chapter" data-level="6.6" data-path="tutorial-text-manipulation-with-stringr.html"><a href="tutorial-text-manipulation-with-stringr.html#additional-tutorials-5"><i class="fa fa-check"></i><b>6.6</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html"><i class="fa fa-check"></i>Exercise 5: Test your knowledge</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-1-4"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-2-4"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-3-4"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-4-3"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-5-3"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-6-3"><i class="fa fa-check"></i>Task 6</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-7-2"><i class="fa fa-check"></i>Task 7</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html"><i class="fa fa-check"></i><b>7</b> Tidy text analysis</a>
<ul>
<li class="chapter" data-level="7.1" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#what-is-tidy-text"><i class="fa fa-check"></i><b>7.1</b> What is tidy text?</a></li>
<li class="chapter" data-level="7.2" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#preprocessing-real-world-data"><i class="fa fa-check"></i><b>7.2</b> Preprocessing real-world data</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#load-the-data"><i class="fa fa-check"></i><b>7.2.1</b> Load the data</a></li>
<li class="chapter" data-level="7.2.2" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#run-some-helper-functions"><i class="fa fa-check"></i><b>7.2.2</b> Run some helper functions</a></li>
<li class="chapter" data-level="7.2.3" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#tokenization"><i class="fa fa-check"></i><b>7.2.3</b> Tokenization</a></li>
<li class="chapter" data-level="" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#practice-tokenization"><i class="fa fa-check"></i>Practice: Tokenization</a></li>
<li class="chapter" data-level="7.2.4" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#stop-word-removal"><i class="fa fa-check"></i><b>7.2.4</b> Stop word removal</a></li>
<li class="chapter" data-level="" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#practice-stop-word-removal"><i class="fa fa-check"></i>Practice: Stop word removal</a></li>
<li class="chapter" data-level="7.2.5" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#lemmatizing-stemming"><i class="fa fa-check"></i><b>7.2.5</b> Lemmatizing &amp; stemming</a></li>
<li class="chapter" data-level="" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#practice-lemmatizing-stemming"><i class="fa fa-check"></i>Practice: Lemmatizing &amp; stemming</a></li>
<li class="chapter" data-level="7.2.6" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#pruning"><i class="fa fa-check"></i><b>7.2.6</b> Pruning</a></li>
<li class="chapter" data-level="" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#practice-pruning"><i class="fa fa-check"></i>Practice: Pruning</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#relative-word-frequencies"><i class="fa fa-check"></i><b>7.3</b> (Relative) word frequencies</a></li>
<li class="chapter" data-level="7.4" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#topic-modeling"><i class="fa fa-check"></i><b>7.4</b> Topic modeling</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#first-steps"><i class="fa fa-check"></i><b>7.4.1</b> First steps</a></li>
<li class="chapter" data-level="7.4.2" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#model-estimation-number-of-topics"><i class="fa fa-check"></i><b>7.4.2</b> Model estimation: Number of topics</a></li>
<li class="chapter" data-level="" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#practice-model-estimation"><i class="fa fa-check"></i>Practice: Model estimation</a></li>
<li class="chapter" data-level="7.4.3" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#inspect-the-topics"><i class="fa fa-check"></i><b>7.4.3</b> Inspect the topics</a></li>
<li class="chapter" data-level="7.4.4" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#stms"><i class="fa fa-check"></i><b>7.4.4</b> STMs</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#sentiment-analysis"><i class="fa fa-check"></i><b>7.5</b> Sentiment analysis</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#sentiment-over-time"><i class="fa fa-check"></i><b>7.5.1</b> Sentiment over time</a></li>
<li class="chapter" data-level="" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#practice-sentiment-over-time-using-dictionaries"><i class="fa fa-check"></i>Practice: Sentiment over time using dictionaries</a></li>
<li class="chapter" data-level="7.5.2" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#sentiment-over-time-periods"><i class="fa fa-check"></i><b>7.5.2</b> Sentiment over time periods</a></li>
<li class="chapter" data-level="7.5.3" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#sentiment-of-individual-users"><i class="fa fa-check"></i><b>7.5.3</b> Sentiment of individual users</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#take-aways-6"><i class="fa fa-check"></i><b>7.6</b> Take-Aways</a></li>
<li class="chapter" data-level="7.7" data-path="tidy-text-analysis.html"><a href="tidy-text-analysis.html#additional-tutorials-6"><i class="fa fa-check"></i><b>7.7</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i>Solutions</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#solutions-for-exercise-1"><i class="fa fa-check"></i>Solutions for Exercise 1</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-1-5"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-2-5"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-3-5"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-4-4"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-5-4"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-6-4"><i class="fa fa-check"></i>Task 6</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#solutions-for-exercise-2"><i class="fa fa-check"></i>Solutions for Exercise 2</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-1-6"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-2-6"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-3-6"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-4-5"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-5-5"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-6-5"><i class="fa fa-check"></i>Task 6</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-7-3"><i class="fa fa-check"></i>Task 7</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#solutions-for-exercise-3"><i class="fa fa-check"></i>Solutions for Exercise 3</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-1-7"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-2-7"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-3-7"><i class="fa fa-check"></i>Task 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#solutions-for-exercise-4"><i class="fa fa-check"></i>Solutions for Exercise 4</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-1-8"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-2-8"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-3-8"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-4-6"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-5-6"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-6-6"><i class="fa fa-check"></i>Task 6</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-7-4"><i class="fa fa-check"></i>Task 7</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-8-1"><i class="fa fa-check"></i>Task 8</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#solutions-for-exercise-5"><i class="fa fa-check"></i>Solutions for Exercise 5</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-1-9"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-2-9"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-3-9"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-4-7"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-5-7"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-6-7"><i class="fa fa-check"></i>Task 6</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-7-5"><i class="fa fa-check"></i>Task 7</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#solutions-for-exercise-6"><i class="fa fa-check"></i>Solutions for Exercise 6</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-1-load-the-data"><i class="fa fa-check"></i>Task 1: Load the data</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-2-tokenization"><i class="fa fa-check"></i>Task 2: Tokenization</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-3-stop-word-removal"><i class="fa fa-check"></i>Task 3: Stop word removal</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-4-lemmatizing-stemming"><i class="fa fa-check"></i>Task 4: Lemmatizing &amp; stemming</a></li>
<li class="chapter" data-level="7.7.1" data-path="solutions.html"><a href="solutions.html#task-5-pruning"><i class="fa fa-check"></i><b>7.7.1</b> Task 5: Pruning</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-5-model-estimation"><i class="fa fa-check"></i>Task 5: Model estimation</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-6-word-topic-probabilities"><i class="fa fa-check"></i>Task 6: Word-topic probabilities</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-7-document-topic-probabilities"><i class="fa fa-check"></i>Task 7: Document-topic probabilities</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-8-sentiment-over-time"><i class="fa fa-check"></i>Task 8: Sentiment over time</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/LKobilke/Digitalbranche" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for digital media analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="solutions" class="section level1 unnumbered hasAnchor">
<h1>Solutions<a href="solutions.html#solutions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This is where you’ll find solutions for all of the tutorials.</p>
<div id="solutions-for-exercise-1" class="section level2 unnumbered hasAnchor">
<h2>Solutions for Exercise 1<a href="solutions.html#solutions-for-exercise-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="task-1-5" class="section level3 unnumbered hasAnchor">
<h3>Task 1<a href="solutions.html#task-1-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Below you will see multiple choice questions. Please try to identify the
correct answers. 1, 2, 3 and 4 correct answers are possible for each
question.</p>
<p><strong>1. What panels are part of RStudio?</strong></p>
<p><em>Solution:</em></p>
<ul>
<li>source (x)</li>
<li>console (x)</li>
<li>packages, files &amp; plots (x)</li>
</ul>
<p><strong>2. How do you activate R packages after you have installed them?</strong></p>
<p><em>Solution:</em></p>
<ul>
<li>library() (x)</li>
</ul>
<p><strong>3. How do you create a vector in R with elements 1, 2, 3?</strong></p>
<p><em>Solution:</em></p>
<ul>
<li>c(1,2,3) (x)</li>
</ul>
<p><strong>4. Imagine you have a vector called ‘vector’ with 10 numeric elements.
How do you retrieve the 8th element?</strong></p>
<p><em>Solution:</em></p>
<ul>
<li>vector[8] (x)</li>
</ul>
<p><strong>5. Imagine you have a vector called ‘hair’ with 5 elements: brown,
black, red, blond, other. How do you retrieve the color ‘blond’?</strong></p>
<p><em>Solution:</em></p>
<ul>
<li>hair[4] (x)</li>
</ul>
</div>
<div id="task-2-5" class="section level3 unnumbered hasAnchor">
<h3>Task 2<a href="solutions.html#task-2-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Create a numeric vector with 8 values and assign the name <em>age</em> to the
vector. First, display all elements of the vector. Then print only the
5th element. After that, display all elements except the 5th. Finally,
display the elements at the positions 6 to 8.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="solutions.html#cb293-1" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">65</span>,<span class="dv">52</span>,<span class="dv">73</span>,<span class="dv">71</span>,<span class="dv">80</span>,<span class="dv">62</span>,<span class="dv">68</span>,<span class="dv">87</span>)</span>
<span id="cb293-2"><a href="solutions.html#cb293-2" aria-hidden="true" tabindex="-1"></a>age</span></code></pre></div>
<pre><code>## [1] 65 52 73 71 80 62 68 87</code></pre>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="solutions.html#cb295-1" aria-hidden="true" tabindex="-1"></a>age[<span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 80</code></pre>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="solutions.html#cb297-1" aria-hidden="true" tabindex="-1"></a>age[<span class="sc">-</span><span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 65 52 73 71 62 68 87</code></pre>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="solutions.html#cb299-1" aria-hidden="true" tabindex="-1"></a>age[<span class="dv">6</span><span class="sc">:</span><span class="dv">8</span>]</span></code></pre></div>
<pre><code>## [1] 62 68 87</code></pre>
</div>
<div id="task-3-5" class="section level3 unnumbered hasAnchor">
<h3>Task 3<a href="solutions.html#task-3-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Create a non-numeric, i.e. character, vector with 4 elements and assign
the name <em>eye_color</em> to the vector. First, print all elements of this
vector to the console. Then have only the value in the 2nd element
displayed, then all values except the 2nd element. At the end, display
the elements at the positions 2 to 4.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="solutions.html#cb301-1" aria-hidden="true" tabindex="-1"></a>eye_color <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;brown&quot;</span>, <span class="st">&quot;other&quot;</span>)</span>
<span id="cb301-2"><a href="solutions.html#cb301-2" aria-hidden="true" tabindex="-1"></a>eye_color</span></code></pre></div>
<pre><code>## [1] &quot;blue&quot;  &quot;green&quot; &quot;brown&quot; &quot;other&quot;</code></pre>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="solutions.html#cb303-1" aria-hidden="true" tabindex="-1"></a>eye_color[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] &quot;green&quot;</code></pre>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb305-1"><a href="solutions.html#cb305-1" aria-hidden="true" tabindex="-1"></a>eye_color[<span class="sc">-</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] &quot;blue&quot;  &quot;brown&quot; &quot;other&quot;</code></pre>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="solutions.html#cb307-1" aria-hidden="true" tabindex="-1"></a>eye_color[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]</span></code></pre></div>
<pre><code>## [1] &quot;green&quot; &quot;brown&quot; &quot;other&quot;</code></pre>
</div>
<div id="task-4-4" class="section level3 unnumbered hasAnchor">
<h3>Task 4<a href="solutions.html#task-4-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Get the <em>“data_tutorial2.csv”</em> from Moodle ( <em>16. Mai material folder</em> )
and put it into the folder that you want to use as working directory.</p>
<p>Set your working directory and load the data into R by saving it into a
source object called <em>data</em>. <strong>Note:</strong> This time, it’s a csv that is
actually separated by commas, not by semicolons.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb309"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb309-1"><a href="solutions.html#cb309-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;C:/Users/LaraK/Documents/Digitalbranche/&quot;</span>)</span>
<span id="cb309-2"><a href="solutions.html#cb309-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data_tutorial2.csv&quot;</span>, <span class="at">header =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
</div>
<div id="task-5-4" class="section level3 unnumbered hasAnchor">
<h3>Task 5<a href="solutions.html#task-5-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now, print only the age column to the console. Use the <code>$</code> operator
first. Then try to achieve the same result using the subsetting
operators, i.e. <code>[]</code>.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="solutions.html#cb310-1" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>age <span class="co"># first version</span></span></code></pre></div>
<pre><code>##  [1] 20 25 29 22 25 26 26 27  8 26 27 26 25 27 29 26 21 23 24 26</code></pre>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="solutions.html#cb312-1" aria-hidden="true" tabindex="-1"></a>data[,<span class="dv">2</span>] <span class="co"># second version</span></span></code></pre></div>
<pre><code>##  [1] 20 25 29 22 25 26 26 27  8 26 27 26 25 27 29 26 21 23 24 26</code></pre>
</div>
<div id="task-6-4" class="section level3 unnumbered hasAnchor">
<h3>Task 6<a href="solutions.html#task-6-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Print only the first 6 age numbers to the console. Use the <code>$</code> operator
first. Then try to achieve the same result using the subsetting
operators, i.e. <code>[]</code>.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb314"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb314-1"><a href="solutions.html#cb314-1" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>age[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>] <span class="co"># first version</span></span></code></pre></div>
<pre><code>## [1] 20 25 29 22 25 26</code></pre>
<div class="sourceCode" id="cb316"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb316-1"><a href="solutions.html#cb316-1" aria-hidden="true" tabindex="-1"></a>data[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">2</span>] <span class="co"># second version</span></span></code></pre></div>
<pre><code>## [1] 20 25 29 22 25 26</code></pre>
</div>
</div>
<div id="solutions-for-exercise-2" class="section level2 unnumbered hasAnchor">
<h2>Solutions for Exercise 2<a href="solutions.html#solutions-for-exercise-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="task-1-6" class="section level3 unnumbered hasAnchor">
<h3>Task 1<a href="solutions.html#task-1-6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Below you will see multiple choice questions. Please try to identify the
correct answers. 1, 2, 3 and 4 correct answers are possible for each
question.</p>
<p><strong>1. What are the main characteristics of tidy data?</strong></p>
<p><em>Solution:</em></p>
<ul>
<li>Every observation is a row. (x)</li>
</ul>
<p><strong>2. What are <code>dplyr</code> functions?</strong></p>
<p><em>Solution:</em></p>
<ul>
<li><code>mutate()</code> (x)</li>
</ul>
<p><strong>3. How can you sort the eye_color of Star Wars characters from Z to
A?</strong></p>
<p><em>Solution:</em></p>
<ul>
<li><code>starwars_data %&gt;% arrange(desc(eye_color))</code> (x)</li>
<li><code>starwars_data %&gt;% select(eye_color) %&gt;% arrange(desc(eye_color))</code>
<ol start="24" style="list-style-type: lower-alpha">
<li></li>
</ol></li>
</ul>
<p><strong>4. Imagine you want to recode the height of the these characters. You
want to have three categories from small and medium to tall. What is a
valid approach?</strong></p>
<p><em>Solution:</em></p>
<ul>
<li><code>starwars_data %&gt;% mutate(height = case_when(height&lt;=150~"small",height&lt;=190~"medium",height&gt;190~"tall"))</code>
<ol start="24" style="list-style-type: lower-alpha">
<li></li>
</ol></li>
</ul>
<p><strong>5. Imagine you want to provide a systematic overview over all hair
colors and what species wear these hair colors frequently (not
accounting for the skewed sampling of species)? What is a valid
approach?</strong></p>
<p><em>Solution:</em></p>
<ul>
<li><code>starwars_data %&gt;% group_by(hair_color, species) %&gt;% summarize(count = n()) %&gt;% arrange(hair_color)</code>
<ol start="24" style="list-style-type: lower-alpha">
<li></li>
</ol></li>
</ul>
</div>
<div id="task-2-6" class="section level3 unnumbered hasAnchor">
<h3>Task 2<a href="solutions.html#task-2-6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now it’s you turn. Load the starwars data like this:</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="solutions.html#cb318-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)              <span class="co"># to activate the dplyr package</span></span>
<span id="cb318-2"><a href="solutions.html#cb318-2" aria-hidden="true" tabindex="-1"></a>starwars_data <span class="ot">&lt;-</span> starwars   <span class="co"># to assign the pre-installed starwars data set (dplyr) into a source object in our environment</span></span></code></pre></div>
<p>How many humans are contained in the starwars data overall? (Hint: use
<code>summarize(count = n())</code> or <code>count()</code>)?</p>
<p><em>Solution:</em></p>
<p>You can use <code>summarize(count = n())</code>:</p>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="solutions.html#cb319-1" aria-hidden="true" tabindex="-1"></a>starwars_data <span class="sc">%&gt;%</span></span>
<span id="cb319-2"><a href="solutions.html#cb319-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Human&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb319-3"><a href="solutions.html#cb319-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   count
##   &lt;int&gt;
## 1    35</code></pre>
<p>Alternatively, you can use the <code>count()</code> function:</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="solutions.html#cb321-1" aria-hidden="true" tabindex="-1"></a>starwars_data <span class="sc">%&gt;%</span></span>
<span id="cb321-2"><a href="solutions.html#cb321-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Human&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb321-3"><a href="solutions.html#cb321-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(species)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   species     n
##   &lt;chr&gt;   &lt;int&gt;
## 1 Human      35</code></pre>
</div>
<div id="task-3-6" class="section level3 unnumbered hasAnchor">
<h3>Task 3<a href="solutions.html#task-3-6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>How many humans are contained in starwars by gender?</p>
<p><em>Solution:</em></p>
<p>You can use <code>summarize(count = n())</code>:</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="solutions.html#cb323-1" aria-hidden="true" tabindex="-1"></a>starwars_data <span class="sc">%&gt;%</span></span>
<span id="cb323-2"><a href="solutions.html#cb323-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Human&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb323-3"><a href="solutions.html#cb323-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species, gender) <span class="sc">%&gt;%</span> </span>
<span id="cb323-4"><a href="solutions.html#cb323-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 2 x 3
## # Groups:   species [1]
##   species gender    count
##   &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt;
## 1 Human   feminine      9
## 2 Human   masculine    26</code></pre>
<p>Alternatively, you can use the <code>count()</code> function:</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="solutions.html#cb325-1" aria-hidden="true" tabindex="-1"></a>starwars_data <span class="sc">%&gt;%</span></span>
<span id="cb325-2"><a href="solutions.html#cb325-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">&quot;Human&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb325-3"><a href="solutions.html#cb325-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(species, gender)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 3
##   species gender        n
##   &lt;chr&gt;   &lt;chr&gt;     &lt;int&gt;
## 1 Human   feminine      9
## 2 Human   masculine    26</code></pre>
</div>
<div id="task-4-5" class="section level3 unnumbered hasAnchor">
<h3>Task 4<a href="solutions.html#task-4-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>What is the most common eye_color among Star Wars characters? (Hint: use
<code>arrange()</code>)__</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="solutions.html#cb327-1" aria-hidden="true" tabindex="-1"></a>starwars_data <span class="sc">%&gt;%</span></span>
<span id="cb327-2"><a href="solutions.html#cb327-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(eye_color) <span class="sc">%&gt;%</span> </span>
<span id="cb327-3"><a href="solutions.html#cb327-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb327-4"><a href="solutions.html#cb327-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(count))</span></code></pre></div>
<pre><code>## # A tibble: 15 x 2
##    eye_color     count
##    &lt;chr&gt;         &lt;int&gt;
##  1 brown            21
##  2 blue             19
##  3 yellow           11
##  4 black            10
##  5 orange            8
##  6 red               5
##  7 hazel             3
##  8 unknown           3
##  9 blue-gray         1
## 10 dark              1
## 11 gold              1
## 12 green, yellow     1
## 13 pink              1
## 14 red, blue         1
## 15 white             1</code></pre>
</div>
<div id="task-5-5" class="section level3 unnumbered hasAnchor">
<h3>Task 5<a href="solutions.html#task-5-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>What is the average mass of Star Wars characters that are not human and
have yellow eyes? (Hint: remove all <code>NAs</code>)__</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="solutions.html#cb329-1" aria-hidden="true" tabindex="-1"></a>starwars_data <span class="sc">%&gt;%</span></span>
<span id="cb329-2"><a href="solutions.html#cb329-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(species <span class="sc">!=</span> <span class="st">&quot;Human&quot;</span> <span class="sc">&amp;</span> eye_color<span class="sc">==</span><span class="st">&quot;yellow&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb329-3"><a href="solutions.html#cb329-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_mass =</span> <span class="fu">mean</span>(mass, <span class="at">na.rm=</span><span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   mean_mass
##       &lt;dbl&gt;
## 1      74.1</code></pre>
</div>
<div id="task-6-5" class="section level3 unnumbered hasAnchor">
<h3>Task 6<a href="solutions.html#task-6-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Compare the mean, median, and standard deviation of mass for all humans
and droids. (Hint: remove all <code>NAs</code>)__</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="solutions.html#cb331-1" aria-hidden="true" tabindex="-1"></a>starwars_data <span class="sc">%&gt;%</span></span>
<span id="cb331-2"><a href="solutions.html#cb331-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(species<span class="sc">==</span><span class="st">&quot;Human&quot;</span> <span class="sc">|</span> species<span class="sc">==</span><span class="st">&quot;Droid&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb331-3"><a href="solutions.html#cb331-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">%&gt;%</span>                                </span>
<span id="cb331-4"><a href="solutions.html#cb331-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">M =</span> <span class="fu">mean</span>(mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb331-5"><a href="solutions.html#cb331-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">Med =</span> <span class="fu">median</span>(mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb331-6"><a href="solutions.html#cb331-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">SD =</span> <span class="fu">sd</span>(mass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb331-7"><a href="solutions.html#cb331-7" aria-hidden="true" tabindex="-1"></a>            )</span></code></pre></div>
<pre><code>## # A tibble: 2 x 4
##   species     M   Med    SD
##   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 Droid    69.8  53.5  51.0
## 2 Human    82.8  79    19.4</code></pre>
</div>
<div id="task-7-3" class="section level3 unnumbered hasAnchor">
<h3>Task 7<a href="solutions.html#task-7-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Create a new variable in which you store the mass in gram. Add it to the
data frame.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb333"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb333-1"><a href="solutions.html#cb333-1" aria-hidden="true" tabindex="-1"></a>starwars_data <span class="ot">&lt;-</span> starwars_data <span class="sc">%&gt;%</span></span>
<span id="cb333-2"><a href="solutions.html#cb333-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gr_mass =</span> mass<span class="sc">*</span><span class="dv">1000</span>)</span>
<span id="cb333-3"><a href="solutions.html#cb333-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb333-4"><a href="solutions.html#cb333-4" aria-hidden="true" tabindex="-1"></a>starwars_data <span class="sc">%&gt;%</span> </span>
<span id="cb333-5"><a href="solutions.html#cb333-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, species, mass, gr_mass)</span></code></pre></div>
<pre><code>## # A tibble: 87 x 4
##    name               species  mass gr_mass
##    &lt;chr&gt;              &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1 Luke Skywalker     Human      77   77000
##  2 C-3PO              Droid      75   75000
##  3 R2-D2              Droid      32   32000
##  4 Darth Vader        Human     136  136000
##  5 Leia Organa        Human      49   49000
##  6 Owen Lars          Human     120  120000
##  7 Beru Whitesun lars Human      75   75000
##  8 R5-D4              Droid      32   32000
##  9 Biggs Darklighter  Human      84   84000
## 10 Obi-Wan Kenobi     Human      77   77000
## # ... with 77 more rows</code></pre>
</div>
</div>
<div id="solutions-for-exercise-3" class="section level2 unnumbered hasAnchor">
<h2>Solutions for Exercise 3<a href="solutions.html#solutions-for-exercise-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="task-1-7" class="section level3 unnumbered hasAnchor">
<h3>Task 1<a href="solutions.html#task-1-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Try to reproduce this plot with <code>dplyr</code> and <code>ggplot2</code>. (<strong>Hint:</strong> You
can hide the legend by adding <code>theme(legend.position = "none")</code> to your
plot.)</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb335-1"><a href="solutions.html#cb335-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb335-2"><a href="solutions.html#cb335-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">case_when</span>(</span>
<span id="cb335-3"><a href="solutions.html#cb335-3" aria-hidden="true" tabindex="-1"></a>    sex <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;Female&quot;</span>,</span>
<span id="cb335-4"><a href="solutions.html#cb335-4" aria-hidden="true" tabindex="-1"></a>    sex <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Male&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb335-5"><a href="solutions.html#cb335-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Party =</span> <span class="fu">case_when</span>(</span>
<span id="cb335-6"><a href="solutions.html#cb335-6" aria-hidden="true" tabindex="-1"></a>    partyid <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Democrat&quot;</span>,</span>
<span id="cb335-7"><a href="solutions.html#cb335-7" aria-hidden="true" tabindex="-1"></a>    partyid <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;Independent&quot;</span>,</span>
<span id="cb335-8"><a href="solutions.html#cb335-8" aria-hidden="true" tabindex="-1"></a>    partyid <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;Republican&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb335-9"><a href="solutions.html#cb335-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Party,<span class="at">y=</span>negemot, <span class="at">fill=</span>Party)) <span class="sc">+</span></span>
<span id="cb335-10"><a href="solutions.html#cb335-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">&quot;bar&quot;</span>, <span class="at">fun =</span> <span class="st">&quot;mean&quot;</span>) <span class="sc">+</span></span>
<span id="cb335-11"><a href="solutions.html#cb335-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb335-12"><a href="solutions.html#cb335-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb335-13"><a href="solutions.html#cb335-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Climate change attitudes of U.S. partisans by gender&quot;</span>,</span>
<span id="cb335-14"><a href="solutions.html#cb335-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Negative emotions about climate change&quot;</span>) <span class="sc">+</span></span>
<span id="cb335-15"><a href="solutions.html#cb335-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sex, <span class="at">nrow=</span><span class="dv">2</span>)</span></code></pre></div>
</div>
<div id="task-2-7" class="section level3 unnumbered hasAnchor">
<h3>Task 2<a href="solutions.html#task-2-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now, try to reproduce this graph. (<strong>Hint:</strong> You will need to recode the
<em>ideology</em> variable in a way that higher values represent stronger
attitudes, <em>independent of partisanship</em>.)</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="solutions.html#cb336-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb336-2"><a href="solutions.html#cb336-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ideology_ext =</span> <span class="fu">case_when</span>(</span>
<span id="cb336-3"><a href="solutions.html#cb336-3" aria-hidden="true" tabindex="-1"></a>    ideology <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb336-4"><a href="solutions.html#cb336-4" aria-hidden="true" tabindex="-1"></a>    ideology <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb336-5"><a href="solutions.html#cb336-5" aria-hidden="true" tabindex="-1"></a>    ideology <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb336-6"><a href="solutions.html#cb336-6" aria-hidden="true" tabindex="-1"></a>    ideology <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb336-7"><a href="solutions.html#cb336-7" aria-hidden="true" tabindex="-1"></a>    ideology <span class="sc">==</span> <span class="dv">5</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb336-8"><a href="solutions.html#cb336-8" aria-hidden="true" tabindex="-1"></a>    ideology <span class="sc">==</span> <span class="dv">6</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb336-9"><a href="solutions.html#cb336-9" aria-hidden="true" tabindex="-1"></a>    ideology <span class="sc">==</span> <span class="dv">7</span> <span class="sc">~</span> <span class="dv">4</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb336-10"><a href="solutions.html#cb336-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">case_when</span>(</span>
<span id="cb336-11"><a href="solutions.html#cb336-11" aria-hidden="true" tabindex="-1"></a>    sex <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;Female&quot;</span>,</span>
<span id="cb336-12"><a href="solutions.html#cb336-12" aria-hidden="true" tabindex="-1"></a>    sex <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Male&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb336-13"><a href="solutions.html#cb336-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Party =</span> <span class="fu">case_when</span>(</span>
<span id="cb336-14"><a href="solutions.html#cb336-14" aria-hidden="true" tabindex="-1"></a>    partyid <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Democrat&quot;</span>,</span>
<span id="cb336-15"><a href="solutions.html#cb336-15" aria-hidden="true" tabindex="-1"></a>    partyid <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="st">&quot;Independent&quot;</span>,</span>
<span id="cb336-16"><a href="solutions.html#cb336-16" aria-hidden="true" tabindex="-1"></a>    partyid <span class="sc">==</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;Republican&quot;</span>))</span></code></pre></div>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="solutions.html#cb337-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb337-2"><a href="solutions.html#cb337-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>Party,<span class="at">y=</span>ideology_ext, <span class="at">fill=</span>Party)) <span class="sc">+</span></span>
<span id="cb337-3"><a href="solutions.html#cb337-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb337-4"><a href="solutions.html#cb337-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb337-5"><a href="solutions.html#cb337-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb337-6"><a href="solutions.html#cb337-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Ideological extremity of U.S. partisans by gender&quot;</span>,</span>
<span id="cb337-7"><a href="solutions.html#cb337-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Ideological extremity&quot;</span>) <span class="sc">+</span></span>
<span id="cb337-8"><a href="solutions.html#cb337-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sex)</span></code></pre></div>
</div>
<div id="task-3-7" class="section level3 unnumbered hasAnchor">
<h3>Task 3<a href="solutions.html#task-3-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Can you make a chart that breaks down the relationship between <em>age</em>,
<em>negative emotions about climate change</em>, and <em>ideological extremity</em>
for the different <em>sexes</em> AND <em>parties</em>?</p>
<p><em>Solution 1:</em></p>
<div class="sourceCode" id="cb338"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb338-1"><a href="solutions.html#cb338-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb338-2"><a href="solutions.html#cb338-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>age,<span class="at">y=</span>negemot, <span class="at">size=</span>ideology_ext, <span class="at">color =</span> Party)) <span class="sc">+</span></span>
<span id="cb338-3"><a href="solutions.html#cb338-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb338-4"><a href="solutions.html#cb338-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.3</span>, <span class="dv">3</span>), <span class="at">name =</span> <span class="st">&quot;Ideological extremity&quot;</span>) <span class="sc">+</span></span>
<span id="cb338-5"><a href="solutions.html#cb338-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb338-6"><a href="solutions.html#cb338-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Relationship between age, climate change attitudes, </span><span class="sc">\n</span><span class="st"> and ideological extremity&quot;</span>,</span>
<span id="cb338-7"><a href="solutions.html#cb338-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Age&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Negative emotions about climate change&quot;</span>) <span class="sc">+</span></span>
<span id="cb338-8"><a href="solutions.html#cb338-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sex, <span class="at">nrow=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="Digital-Media_files/figure-html/unnamed-chunk-194-1.png" width="672" /></p>
<p><em>Solution 2:</em></p>
<p>Alternatively, you might enjoy this look that you can create with
<code>facet_grid()</code>:</p>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="solutions.html#cb339-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb339-2"><a href="solutions.html#cb339-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>age,<span class="at">y=</span>negemot, <span class="at">size=</span>ideology_ext, <span class="at">color =</span> Party)) <span class="sc">+</span></span>
<span id="cb339-3"><a href="solutions.html#cb339-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb339-4"><a href="solutions.html#cb339-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.3</span>, <span class="dv">3</span>), <span class="at">name =</span> <span class="st">&quot;Ideological extremity&quot;</span>) <span class="sc">+</span></span>
<span id="cb339-5"><a href="solutions.html#cb339-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb339-6"><a href="solutions.html#cb339-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Relationship between age, climate change attitudes, and ideological extremity&quot;</span>,</span>
<span id="cb339-7"><a href="solutions.html#cb339-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Age&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Negative emotions about climate change&quot;</span>) <span class="sc">+</span></span>
<span id="cb339-8"><a href="solutions.html#cb339-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="fu">vars</span>(sex), <span class="fu">vars</span>(Party))</span></code></pre></div>
<p><img src="Digital-Media_files/figure-html/unnamed-chunk-195-1.png" width="672" /></p>
<p><em>Solution 3:</em></p>
<p>Or even this look, also done with <code>facet_grid()</code>:</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="solutions.html#cb340-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb340-2"><a href="solutions.html#cb340-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>age,<span class="at">y=</span>negemot, <span class="at">size=</span>ideology_ext, <span class="at">color =</span> Party)) <span class="sc">+</span></span>
<span id="cb340-3"><a href="solutions.html#cb340-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb340-4"><a href="solutions.html#cb340-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.3</span>, <span class="dv">3</span>), <span class="at">name =</span> <span class="st">&quot;Ideological extremity&quot;</span>) <span class="sc">+</span> <span class="co"># You can&#39;t guess the exact value that I&#39;ve used here. Just use whatever looks good for you and comes close to the solution.</span></span>
<span id="cb340-5"><a href="solutions.html#cb340-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb340-6"><a href="solutions.html#cb340-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Relationship between age, climate change attitudes, and ideological extremity&quot;</span>,</span>
<span id="cb340-7"><a href="solutions.html#cb340-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Age&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Negative emotions about climate change&quot;</span>) <span class="sc">+</span></span>
<span id="cb340-8"><a href="solutions.html#cb340-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>sex <span class="sc">+</span> Party)</span></code></pre></div>
<p><img src="Digital-Media_files/figure-html/unnamed-chunk-196-1.png" width="672" /></p>
</div>
</div>
<div id="solutions-for-exercise-4" class="section level2 unnumbered hasAnchor">
<h2>Solutions for Exercise 4<a href="solutions.html#solutions-for-exercise-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This exercise was created because some students asked to get some more
practice. You don’t have to work through it, but it can certainly help
you with the graded assignment. In this exercise, we will work with the
<code>mtcars</code> data that comes pre-installed with <code>dplyr</code>.</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="solutions.html#cb341-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb341-2"><a href="solutions.html#cb341-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-3"><a href="solutions.html#cb341-3" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> mtcars</span>
<span id="cb341-4"><a href="solutions.html#cb341-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-5"><a href="solutions.html#cb341-5" aria-hidden="true" tabindex="-1"></a><span class="co"># To make the data somewhat more interesting, let&#39;s set a few values to missing values:</span></span>
<span id="cb341-6"><a href="solutions.html#cb341-6" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>wt <span class="ot">&lt;-</span> <span class="fu">na_if</span>(data<span class="sc">$</span>wt, <span class="fl">4.070</span>)</span>
<span id="cb341-7"><a href="solutions.html#cb341-7" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>mpg <span class="ot">&lt;-</span> <span class="fu">na_if</span>(data<span class="sc">$</span>mpg, <span class="fl">22.8</span>)</span></code></pre></div>
<div id="task-1-8" class="section level3 unnumbered hasAnchor">
<h3>Task 1<a href="solutions.html#task-1-8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Check the data set for missing values (<em>NA</em>s) and delete all
observations that have missing values.</p>
<p><em>Solution:</em></p>
<p>You can solve this by excluding NAs in every single column:</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="solutions.html#cb342-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb342-2"><a href="solutions.html#cb342-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># we&#39;ll now only keep observations that are NOT NAs in the following variables (remember that &amp; = AND):</span></span>
<span id="cb342-3"><a href="solutions.html#cb342-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(mpg) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(cyl) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(disp) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(hp) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(drat) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(wt) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(qsec)</span>
<span id="cb342-4"><a href="solutions.html#cb342-4" aria-hidden="true" tabindex="-1"></a>         <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(vs) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(am) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(gear) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(carb))</span></code></pre></div>
<p>Alternatively, excluding NAs from the entire data set works, too, but
you have not learned the <code>na_omit()</code>function in the tutorials:</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="solutions.html#cb343-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb343-2"><a href="solutions.html#cb343-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code></pre></div>
</div>
<div id="task-2-8" class="section level3 unnumbered hasAnchor">
<h3>Task 2<a href="solutions.html#task-2-8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s transform the weight <em>wt</em> of the cars. Currently, it’s given as
<em>Weight in 1000 lbs</em>. I guess you are not used to lbs, so try to mutate
<em>wt</em> to represent <em>Weight in 1000 kg</em>. 1000 lbs = 453.59 kg, so we will
need to divide by 2.20.</p>
<p>Similarly, I think that you are not very familiar with the unit <em>Miles
per gallon</em> of the <em>mpg</em> variable. Let’s transform it into <em>Kilometer
per liter</em>. 1 m/g = 0.425144 km/l, so again divide by 2.20.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="solutions.html#cb344-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb344-2"><a href="solutions.html#cb344-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wt =</span> wt<span class="sc">/</span><span class="fl">2.20</span>)</span></code></pre></div>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="solutions.html#cb345-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb345-2"><a href="solutions.html#cb345-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mpg =</span> mpg<span class="sc">/</span><span class="fl">2.20</span>)</span></code></pre></div>
</div>
<div id="task-3-8" class="section level3 unnumbered hasAnchor">
<h3>Task 3<a href="solutions.html#task-3-8" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we want to group the weight of the cars in three categories: light,
medium, heavy. But how to define light, medium, and heavy cars, i.e., at
what kg should you put the threshold? A reasonable approach is to use
quantiles (see Tutorial: <a href="tutorial-data-management-with-tidyverse.html#summarize-group_by">summarize() [+
group_by()]</a>). Quantiles divide data. For example,
the 75% quantile states that exactly 75% of the data values are equal or
below the quantile value. The rest of the values are equal or above it.</p>
<p>Use the lower quantile (0.25) and the upper quantile (0.75) to estimate
two values that divide the weight of the cars in three groups. What are
these values?</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="solutions.html#cb346-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb346-2"><a href="solutions.html#cb346-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">UQ_wt=</span> <span class="fu">quantile</span>(wt, <span class="fl">0.75</span>),</span>
<span id="cb346-3"><a href="solutions.html#cb346-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">LQ_wt=</span> <span class="fu">quantile</span>(wt, <span class="fl">0.25</span>))</span></code></pre></div>
<pre><code>##      UQ_wt    LQ_wt
## 1 1.622727 1.190909</code></pre>
<p>75% of all cars weigh 1.622727* 1000kg or less and 25% of all cars
weigh 1.190909* 1000kg or less.</p>
</div>
<div id="task-4-6" class="section level3 unnumbered hasAnchor">
<h3>Task 4<a href="solutions.html#task-4-6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use the values from Task 3 to create a new variable <em>wt_cat</em> that
divides the cars in three groups: light, medium, and heavy cars.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="solutions.html#cb348-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb348-2"><a href="solutions.html#cb348-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wt_cat =</span> <span class="fu">case_when</span>(</span>
<span id="cb348-3"><a href="solutions.html#cb348-3" aria-hidden="true" tabindex="-1"></a>    wt <span class="sc">&lt;=</span> <span class="fl">1.190909</span> <span class="sc">~</span> <span class="st">&quot;light car&quot;</span>,</span>
<span id="cb348-4"><a href="solutions.html#cb348-4" aria-hidden="true" tabindex="-1"></a>    wt <span class="sc">&lt;</span> <span class="fl">1.622727</span> <span class="sc">~</span> <span class="st">&quot;medium car&quot;</span>,</span>
<span id="cb348-5"><a href="solutions.html#cb348-5" aria-hidden="true" tabindex="-1"></a>    wt <span class="sc">&gt;=</span> <span class="fl">1.622727</span> <span class="sc">~</span> <span class="st">&quot;heavy car&quot;</span>))</span></code></pre></div>
</div>
<div id="task-5-6" class="section level3 unnumbered hasAnchor">
<h3>Task 5<a href="solutions.html#task-5-6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>How many light, medium, and heavy cars are part of the data?</p>
<p><em>Solution:</em></p>
<p>You can solve this with the <code>summarize(count = n()</code> function:</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="solutions.html#cb349-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb349-2"><a href="solutions.html#cb349-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(wt_cat) <span class="sc">%&gt;%</span> </span>
<span id="cb349-3"><a href="solutions.html#cb349-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   wt_cat     count
##   &lt;chr&gt;      &lt;int&gt;
## 1 heavy car      9
## 2 light car      7
## 3 medium car    13</code></pre>
<p>9 heavy cars, 13 medium cars, and 7 light cars.</p>
<p>Alternatively, you can also use the <code>count()</code> function:</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="solutions.html#cb351-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb351-2"><a href="solutions.html#cb351-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(wt_cat)</span></code></pre></div>
<pre><code>##       wt_cat  n
## 1  heavy car  9
## 2  light car  7
## 3 medium car 13</code></pre>
</div>
<div id="task-6-6" class="section level3 unnumbered hasAnchor">
<h3>Task 6<a href="solutions.html#task-6-6" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now sort this count of the car weight classes from highest to lowest.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="solutions.html#cb353-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb353-2"><a href="solutions.html#cb353-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(wt_cat) <span class="sc">%&gt;%</span> </span>
<span id="cb353-3"><a href="solutions.html#cb353-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb353-4"><a href="solutions.html#cb353-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(count))</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   wt_cat     count
##   &lt;chr&gt;      &lt;int&gt;
## 1 medium car    13
## 2 heavy car      9
## 3 light car      7</code></pre>
</div>
<div id="task-7-4" class="section level3 unnumbered hasAnchor">
<h3>Task 7<a href="solutions.html#task-7-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Make a scatter plot to indicate how many km per liter (<em>mpg</em>) a car can
drive depending on its weight (<em>wt</em>). Facet the plot by weight class
(<em>wt_cat</em>). Try to hide the plot legend (you have learned that in
another exercise).</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="solutions.html#cb355-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb355-2"><a href="solutions.html#cb355-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wt_cat =</span> <span class="fu">factor</span>(wt_cat, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;light car&quot;</span>, <span class="st">&quot;medium car&quot;</span>, <span class="st">&quot;heavy car&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb355-3"><a href="solutions.html#cb355-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>wt, <span class="at">y=</span>mpg, <span class="at">color=</span>wt_cat)) <span class="sc">+</span></span>
<span id="cb355-4"><a href="solutions.html#cb355-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb355-5"><a href="solutions.html#cb355-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb355-6"><a href="solutions.html#cb355-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#7b3294&quot;</span>, <span class="st">&quot;#84798a&quot;</span>, <span class="st">&quot;#008837&quot;</span>)) <span class="sc">+</span>  <span class="co"># optional command, choose your own beautiful colors for the graph</span></span>
<span id="cb355-7"><a href="solutions.html#cb355-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb355-8"><a href="solutions.html#cb355-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Relationship between car weight and achieved kilometers per liter&quot;</span>, <span class="at">x=</span><span class="st">&quot;Weight in 1000kg&quot;</span>, <span class="at">y=</span><span class="st">&quot;km/l&quot;</span>) <span class="sc">+</span></span>
<span id="cb355-9"><a href="solutions.html#cb355-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>wt_cat)</span></code></pre></div>
<p><img src="Digital-Media_files/figure-html/unnamed-chunk-207-1.png" width="672" /></p>
</div>
<div id="task-8-1" class="section level3 unnumbered hasAnchor">
<h3>Task 8<a href="solutions.html#task-8-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Recreate the diagram from Task 7, but exclude all cars that weigh
between 1.4613636 and 1.5636364 *1000kg from it.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="solutions.html#cb356-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb356-2"><a href="solutions.html#cb356-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(wt <span class="sc">&lt;</span> <span class="fl">1.4613636</span> <span class="sc">|</span> wt <span class="sc">&gt;</span> <span class="fl">1.5636364</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb356-3"><a href="solutions.html#cb356-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">wt_cat =</span> <span class="fu">factor</span>(wt_cat, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;light car&quot;</span>, <span class="st">&quot;medium car&quot;</span>, <span class="st">&quot;heavy car&quot;</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb356-4"><a href="solutions.html#cb356-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>wt, <span class="at">y=</span>mpg, <span class="at">color=</span>wt_cat)) <span class="sc">+</span></span>
<span id="cb356-5"><a href="solutions.html#cb356-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb356-6"><a href="solutions.html#cb356-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb356-7"><a href="solutions.html#cb356-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#7b3294&quot;</span>, <span class="st">&quot;#84798a&quot;</span>, <span class="st">&quot;#008837&quot;</span>)) <span class="sc">+</span> <span class="co"># optional command, choose your own beautiful colors for the graph</span></span>
<span id="cb356-8"><a href="solutions.html#cb356-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb356-9"><a href="solutions.html#cb356-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Relationship between car weight and achieved kilometers per liter&quot;</span>, <span class="at">x=</span><span class="st">&quot;Weight in 1000kg&quot;</span>, <span class="at">y=</span><span class="st">&quot;km/l&quot;</span>) <span class="sc">+</span></span>
<span id="cb356-10"><a href="solutions.html#cb356-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>wt_cat)</span></code></pre></div>
<p><img src="Digital-Media_files/figure-html/unnamed-chunk-208-1.png" width="672" /></p>
<p><strong>Why would we use <code>data %&gt;% filter(wt &lt; 1.4613636 | wt &gt; 1.5636364)</code>
instead of <code>data %&gt;% filter(wt &gt; 1.4613636 | wt &lt; 1.5636364)</code>?</strong></p>
<p>Let’s look at the resulting data sets when you apply those filters to
compare them:</p>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="solutions.html#cb357-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb357-2"><a href="solutions.html#cb357-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(wt) <span class="sc">%&gt;%</span> </span>
<span id="cb357-3"><a href="solutions.html#cb357-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(wt <span class="sc">&lt;</span> <span class="fl">1.4613636</span> <span class="sc">|</span> wt <span class="sc">&gt;</span> <span class="fl">1.5636364</span>)</span></code></pre></div>
<pre><code>##                            wt
## Mazda RX4           1.1909091
## Mazda RX4 Wag       1.3068182
## Valiant             1.5727273
## Duster 360          1.6227273
## Merc 240D           1.4500000
## Merc 450SL          1.6954545
## Merc 450SLC         1.7181818
## Cadillac Fleetwood  2.3863636
## Lincoln Continental 2.4654545
## Chrysler Imperial   2.4295455
## Fiat 128            1.0000000
## Honda Civic         0.7340909
## Toyota Corolla      0.8340909
## Toyota Corona       1.1204545
## Dodge Challenger    1.6000000
## Camaro Z28          1.7454545
## Pontiac Firebird    1.7477273
## Fiat X1-9           0.8795455
## Porsche 914-2       0.9727273
## Lotus Europa        0.6877273
## Ford Pantera L      1.4409091
## Ferrari Dino        1.2590909
## Maserati Bora       1.6227273
## Volvo 142E          1.2636364</code></pre>
<p>The resulting table does not include any cars that weigh between
1.4613636 and 1.5636364. But if you use
<code>data %&gt;% filter(wt &gt; 1.4613636 | wt &lt; 1.5636364)</code>…</p>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="solutions.html#cb359-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb359-2"><a href="solutions.html#cb359-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(wt) <span class="sc">%&gt;%</span> </span>
<span id="cb359-3"><a href="solutions.html#cb359-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(wt <span class="sc">&gt;</span> <span class="fl">1.4613636</span> <span class="sc">|</span> wt <span class="sc">&lt;</span> <span class="fl">1.5636364</span>)</span></code></pre></div>
<pre><code>##                            wt
## Mazda RX4           1.1909091
## Mazda RX4 Wag       1.3068182
## Hornet 4 Drive      1.4613636
## Hornet Sportabout   1.5636364
## Valiant             1.5727273
## Duster 360          1.6227273
## Merc 240D           1.4500000
## Merc 280            1.5636364
## Merc 280C           1.5636364
## Merc 450SL          1.6954545
## Merc 450SLC         1.7181818
## Cadillac Fleetwood  2.3863636
## Lincoln Continental 2.4654545
## Chrysler Imperial   2.4295455
## Fiat 128            1.0000000
## Honda Civic         0.7340909
## Toyota Corolla      0.8340909
## Toyota Corona       1.1204545
## Dodge Challenger    1.6000000
## AMC Javelin         1.5613636
## Camaro Z28          1.7454545
## Pontiac Firebird    1.7477273
## Fiat X1-9           0.8795455
## Porsche 914-2       0.9727273
## Lotus Europa        0.6877273
## Ford Pantera L      1.4409091
## Ferrari Dino        1.2590909
## Maserati Bora       1.6227273
## Volvo 142E          1.2636364</code></pre>
<p>… cars that weigh between 1.4613636 and 1.5636364 are still included!</p>
<p><strong>But why?</strong> The <code>filter()</code>function always <em>keeps</em> cases based on the
criteria that you provide.</p>
<p>In plain English, my solution code says the following: Take my dataset
“data” and keep only those cases where the weight variable <em>wt</em> is less
than 1.4613636 OR larger than 1.5636364. Put differently, the solution
code says: Delete all cases that are greater than 1.4613636 but are also
less than 1.5636364.</p>
<p>The wrong code, on the other hand, says: Take my dataset “data” and keep
only those cases where the weight variable <em>wt</em> is greater than
1.4613636 OR smaller than 1.5636364. This is ALL the data because all
your cases will be greater than 1.4613636 OR smaller than 1.5636364. You
are not excluding any cars.</p>
</div>
</div>
<div id="solutions-for-exercise-5" class="section level2 unnumbered hasAnchor">
<h2>Solutions for Exercise 5<a href="solutions.html#solutions-for-exercise-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, load the library <code>stringr</code> and create a new car vector:</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="solutions.html#cb361-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb361-2"><a href="solutions.html#cb361-2" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;VW&quot;</span>, <span class="st">&quot;Mercedes-Benz&quot;</span>, <span class="st">&quot;BMW&quot;</span>, <span class="st">&quot;Audi&quot;</span>, <span class="st">&quot;Opel&quot;</span>, <span class="st">&quot;Skoda&quot;</span>, <span class="st">&quot;Ford&quot;</span>, <span class="st">&quot;Seat&quot;</span>, <span class="st">&quot;Cupra&quot;</span>, <span class="st">&quot;Hyundai&quot;</span>, <span class="st">&quot;Renault&quot;</span>, <span class="st">&quot;Fiat&quot;</span>, <span class="st">&quot;Toyota&quot;</span>, <span class="st">&quot;Peugeot&quot;</span>, <span class="st">&quot;Volvo&quot;</span>)</span></code></pre></div>
<div id="task-1-9" class="section level3 unnumbered hasAnchor">
<h3>Task 1<a href="solutions.html#task-1-9" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You have a list of the most popular cars in Europe (according to car
buyers in 2021). Marketers believe that the secret to product sales is a
catchy name, often between 3 and 4 letters. Is this true? Try to find
out how long the brands’ names are.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="solutions.html#cb362-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_length</span>(cars)</span></code></pre></div>
<pre><code>##  [1]  2 13  3  4  4  5  4  4  5  7  7  4  6  7  5</code></pre>
<p>7 of the 15 cars are between 2 and 4 characters long. This is not the
majority, but pretty substantial. Catchy, short names might be a good
choice for an automobile brand.</p>
</div>
<div id="task-2-9" class="section level3 unnumbered hasAnchor">
<h3>Task 2<a href="solutions.html#task-2-9" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Some brands cheat: They actually have very long names and use acronyms
to make their brand more catchy. Let’s expose them! Replace all acronyms
with the real brand name, i.e., VW = Volkswagen and BMW = Bayerische
Motoren Werke.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="solutions.html#cb364-1" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(cars, <span class="st">&quot;VW&quot;</span>, <span class="st">&quot;Volkswagen&quot;</span>)</span>
<span id="cb364-2"><a href="solutions.html#cb364-2" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(cars, <span class="st">&quot;BMW&quot;</span>, <span class="st">&quot;Bayerische Motoren Werke&quot;</span>)</span>
<span id="cb364-3"><a href="solutions.html#cb364-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-4"><a href="solutions.html#cb364-4" aria-hidden="true" tabindex="-1"></a>cars</span></code></pre></div>
<pre><code>##  [1] &quot;Volkswagen&quot;               &quot;Mercedes-Benz&quot;            &quot;Bayerische Motoren Werke&quot; &quot;Audi&quot;                    
##  [5] &quot;Opel&quot;                     &quot;Skoda&quot;                    &quot;Ford&quot;                     &quot;Seat&quot;                    
##  [9] &quot;Cupra&quot;                    &quot;Hyundai&quot;                  &quot;Renault&quot;                  &quot;Fiat&quot;                    
## [13] &quot;Toyota&quot;                   &quot;Peugeot&quot;                  &quot;Volvo&quot;</code></pre>
</div>
<div id="task-3-9" class="section level3 unnumbered hasAnchor">
<h3>Task 3<a href="solutions.html#task-3-9" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>There is proof that some sounds are cacophonic, such as voiced
fricatives (/f/,/v/,/s/,/z/,/h/), while others are regarded euphonic,
such as vowels (/a/, /e/) and liquids (/l/, /r/) (see
<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7909286/#:~:text=According%20to%20the%20transitivity%20hypothesis,brand%20names%20with%20short%20vowels.">here</a>).
Marketers sometimes recommend not to use cacophonic sounds in brand
names. Find all car brands that use cacophonic sounds despite these
warnings.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="solutions.html#cb366-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(cars,<span class="st">&quot;[fvszhFVSZH]&quot;</span>)</span></code></pre></div>
<pre><code>##  [1]  TRUE  TRUE  TRUE FALSE FALSE  TRUE  TRUE  TRUE FALSE  TRUE FALSE  TRUE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb368"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb368-1"><a href="solutions.html#cb368-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(cars,<span class="st">&quot;[fvszhFVSZH]&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Volkswagen&quot;               &quot;Mercedes-Benz&quot;            &quot;Bayerische Motoren Werke&quot; &quot;Skoda&quot;                   
## [5] &quot;Ford&quot;                     &quot;Seat&quot;                     &quot;Hyundai&quot;                  &quot;Fiat&quot;                    
## [9] &quot;Volvo&quot;</code></pre>
<p>Six car brands do not use cacophonic sounds, whereas nine do. It would
appear that cacophonic sounds are not exactly being avoided.</p>
</div>
<div id="task-4-7" class="section level3 unnumbered hasAnchor">
<h3>Task 4<a href="solutions.html#task-4-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>How many cacophonic sounds are used in these brand names, i.e., are
there any brands that use (at least) two cacophonic sounds?</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="solutions.html#cb370-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(cars, <span class="st">&quot;[fvszhFVSZH]&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] 2 2 2 0 0 1 1 1 0 1 0 1 0 0 2</code></pre>
<p>Four brands, Volkswagen, Mercedes-Benz, Bayerische Motoren Werke, and
Volvo, use two cacophonic sounds.</p>
</div>
<div id="task-5-7" class="section level3 unnumbered hasAnchor">
<h3>Task 5<a href="solutions.html#task-5-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Which brand names begin with a cacophonic sound?</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb372"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb372-1"><a href="solutions.html#cb372-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(cars, <span class="st">&quot;^[FVSZH]&quot;</span>)</span></code></pre></div>
<pre><code>##  [1]  TRUE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE  TRUE FALSE  TRUE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb374"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb374-1"><a href="solutions.html#cb374-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(cars, <span class="st">&quot;^[FVSZH]&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Volkswagen&quot; &quot;Skoda&quot;      &quot;Ford&quot;       &quot;Seat&quot;       &quot;Hyundai&quot;    &quot;Fiat&quot;       &quot;Volvo&quot;</code></pre>
<p>Seven car brands start with a cacophonic sound: Volkswagen, Skoda, Ford,
Seat, Hyundai, Fiat, and Volvo.</p>
</div>
<div id="task-6-7" class="section level3 unnumbered hasAnchor">
<h3>Task 6<a href="solutions.html#task-6-7" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Which brand names end with a cacophonic sound?</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="solutions.html#cb376-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_detect</span>(cars, <span class="st">&quot;[fvszh]$&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="solutions.html#cb378-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(cars, <span class="st">&quot;[fvszh]$&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Mercedes-Benz&quot;</code></pre>
<p>Only one car brand ends with a cacophonic sound: Mercedes-Benz.</p>
</div>
<div id="task-7-5" class="section level3 unnumbered hasAnchor">
<h3>Task 7<a href="solutions.html#task-7-5" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s correct those cacophonic brand names by replacing all cacophonic
sounds with a liquid sound. Let’s replace all inner cacophonic sounds
with /l/ and all cacophonic sounds that start a brand name with /R/.
<strong>Hint:</strong> To keep things simple, use the command to replace inner
cacophonic sounds 2 times.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="solutions.html#cb380-1" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(cars, <span class="st">&quot;[fvszh]+&quot;</span>, <span class="st">&quot;l&quot;</span>)</span>
<span id="cb380-2"><a href="solutions.html#cb380-2" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(cars, <span class="st">&quot;[fvszh]+&quot;</span>, <span class="st">&quot;l&quot;</span>)</span>
<span id="cb380-3"><a href="solutions.html#cb380-3" aria-hidden="true" tabindex="-1"></a>cars <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(cars, <span class="st">&quot;[FVSZH]+&quot;</span>, <span class="st">&quot;R&quot;</span>)</span>
<span id="cb380-4"><a href="solutions.html#cb380-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb380-5"><a href="solutions.html#cb380-5" aria-hidden="true" tabindex="-1"></a>cars</span></code></pre></div>
<pre><code>##  [1] &quot;Rolklwagen&quot;               &quot;Mercedel-Benl&quot;            &quot;Bayerilcle Motoren Werke&quot; &quot;Audi&quot;                    
##  [5] &quot;Opel&quot;                     &quot;Rkoda&quot;                    &quot;Rord&quot;                     &quot;Reat&quot;                    
##  [9] &quot;Cupra&quot;                    &quot;Ryundai&quot;                  &quot;Renault&quot;                  &quot;Riat&quot;                    
## [13] &quot;Toyota&quot;                   &quot;Peugeot&quot;                  &quot;Rollo&quot;</code></pre>
<p>That worked! Mercedel-Benl and Rollo are definitely my personal
favorites.</p>
</div>
</div>
<div id="solutions-for-exercise-6" class="section level2 unnumbered hasAnchor">
<h2>Solutions for Exercise 6<a href="solutions.html#solutions-for-exercise-6" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="task-1-load-the-data" class="section level3 unnumbered hasAnchor">
<h3>Task 1: Load the data<a href="solutions.html#task-1-load-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Load the Kliemann data into RStudio. Use the tutorial code to set the
encoding and the column class of the <em>user.id</em> because we don’t want R to understand the user.id columns as a huuuge number, but as a string. After loading the Kliemann data keep only the <em>time</em>, <em>user</em>, and <em>full_text</em> column.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb382"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb382-1"><a href="solutions.html#cb382-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First: Load and shorten data</span></span>
<span id="cb382-2"><a href="solutions.html#cb382-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;Kliemann-full-tweets.csv&quot;</span>, <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>, <span class="at">colClasses=</span><span class="fu">c</span>(<span class="st">&quot;user.id&quot;</span><span class="ot">=</span><span class="st">&quot;character&quot;</span>))</span>
<span id="cb382-3"><a href="solutions.html#cb382-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb382-4"><a href="solutions.html#cb382-4" aria-hidden="true" tabindex="-1"></a>data_short <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb382-5"><a href="solutions.html#cb382-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(time, user, full_text)</span>
<span id="cb382-6"><a href="solutions.html#cb382-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb382-7"><a href="solutions.html#cb382-7" aria-hidden="true" tabindex="-1"></a><span class="fu">Sys.setenv</span>(<span class="at">TZ=</span><span class="st">&quot;UTC&quot;</span>)</span>
<span id="cb382-8"><a href="solutions.html#cb382-8" aria-hidden="true" tabindex="-1"></a>data_short <span class="ot">&lt;-</span> data_short <span class="sc">%&gt;%</span> </span>
<span id="cb382-9"><a href="solutions.html#cb382-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">time =</span> lubridate<span class="sc">::</span><span class="fu">ymd_hms</span>(time)) <span class="sc">%&gt;%</span></span>
<span id="cb382-10"><a href="solutions.html#cb382-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>()</span></code></pre></div>
</div>
<div id="task-2-tokenization" class="section level3 unnumbered hasAnchor">
<h3>Task 2: Tokenization<a href="solutions.html#task-2-tokenization" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now try to tokenize the data. As an extra, delete all tokens that are
mentions of other twitter users (i.e., that start with an @-smybol).</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="solutions.html#cb383-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First: Tokenize</span></span>
<span id="cb383-2"><a href="solutions.html#cb383-2" aria-hidden="true" tabindex="-1"></a>remove_reg <span class="ot">&lt;-</span> <span class="st">&quot;&amp;amp;|&amp;lt;|&amp;gt;&quot;</span></span>
<span id="cb383-3"><a href="solutions.html#cb383-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb383-4"><a href="solutions.html#cb383-4" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="ot">&lt;-</span> data_short <span class="sc">%&gt;%</span></span>
<span id="cb383-5"><a href="solutions.html#cb383-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tweet =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb383-6"><a href="solutions.html#cb383-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(full_text, <span class="st">&quot;^RT&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb383-7"><a href="solutions.html#cb383-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">text =</span> <span class="fu">str_remove_all</span>(full_text, remove_reg)) <span class="sc">%&gt;%</span></span>
<span id="cb383-8"><a href="solutions.html#cb383-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, full_text, <span class="at">token =</span> <span class="st">&quot;tweets&quot;</span>)</span>
<span id="cb383-9"><a href="solutions.html#cb383-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb383-10"><a href="solutions.html#cb383-10" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="ot">&lt;-</span> <span class="fu">clean_tokens</span>(data_tknzd, word)</span>
<span id="cb383-11"><a href="solutions.html#cb383-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb383-12"><a href="solutions.html#cb383-12" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="ot">&lt;-</span> data_tknzd <span class="sc">%&gt;%</span> </span>
<span id="cb383-13"><a href="solutions.html#cb383-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(word, <span class="st">&quot;^@&quot;</span>))   <span class="co"># a new line for the task: remove all words that are mentions</span></span></code></pre></div>
</div>
<div id="task-3-stop-word-removal" class="section level3 unnumbered hasAnchor">
<h3>Task 3: Stop word removal<a href="solutions.html#task-3-stop-word-removal" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now it’s your turn. The Kliemann data is in German, so you can’t use the
<code>tidytext</code> stop word list, which is meant for English text only. So
install and load the ‘stopwords’ package that allows you to create a
dataframe that contains German stop words by using this command:
<code>stop_word_german &lt;- data.frame(word = stopwords::stopwords("de"), stringsAsFactors = FALSE)</code>.
Create your German stop word list and use it to remove stop words from
your tokens.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb384"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb384-1"><a href="solutions.html#cb384-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First: install and load the stopwords package</span></span>
<span id="cb384-2"><a href="solutions.html#cb384-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(stopwords)) {</span>
<span id="cb384-3"><a href="solutions.html#cb384-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;stopwords&quot;</span>); </span>
<span id="cb384-4"><a href="solutions.html#cb384-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">require</span>(stopwords)</span>
<span id="cb384-5"><a href="solutions.html#cb384-5" aria-hidden="true" tabindex="-1"></a>} <span class="co">#load / install+load stopwords</span></span>
<span id="cb384-6"><a href="solutions.html#cb384-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb384-7"><a href="solutions.html#cb384-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Second: create a stop word list</span></span>
<span id="cb384-8"><a href="solutions.html#cb384-8" aria-hidden="true" tabindex="-1"></a>stop_word_german <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">word =</span> stopwords<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;de&quot;</span>), <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb384-9"><a href="solutions.html#cb384-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb384-10"><a href="solutions.html#cb384-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Third: remove German stop words from tokens</span></span>
<span id="cb384-11"><a href="solutions.html#cb384-11" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="ot">&lt;-</span> data_tknzd <span class="sc">%&gt;%</span> </span>
<span id="cb384-12"><a href="solutions.html#cb384-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>word <span class="sc">%in%</span> stop_word_german<span class="sc">$</span>word)</span></code></pre></div>
<p><em>Optional solution:</em></p>
<p>If you want to add additional stop words to your stop word list, you can
use this solution instead. I would recommend using it, because German
stop word lists are often not as advanced as English stop word lists. In
addition, they need to be tailored for specific text types, such as
colloquial German:</p>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="solutions.html#cb385-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First: install and load the stopwords package</span></span>
<span id="cb385-2"><a href="solutions.html#cb385-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(stopwords)) {</span>
<span id="cb385-3"><a href="solutions.html#cb385-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;stopwords&quot;</span>); </span>
<span id="cb385-4"><a href="solutions.html#cb385-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">require</span>(stopwords)</span>
<span id="cb385-5"><a href="solutions.html#cb385-5" aria-hidden="true" tabindex="-1"></a>} <span class="co">#load / install+load stopwords</span></span>
<span id="cb385-6"><a href="solutions.html#cb385-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb385-7"><a href="solutions.html#cb385-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Second: create a stop word list</span></span>
<span id="cb385-8"><a href="solutions.html#cb385-8" aria-hidden="true" tabindex="-1"></a>stop_word_german <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">word =</span> stopwords<span class="sc">::</span><span class="fu">stopwords</span>(<span class="st">&quot;de&quot;</span>), <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb385-9"><a href="solutions.html#cb385-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb385-10"><a href="solutions.html#cb385-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional: Here you can insert your own stop words, if the German list seems too short for you (231 words against 1149 in English)</span></span>
<span id="cb385-11"><a href="solutions.html#cb385-11" aria-hidden="true" tabindex="-1"></a>stop_word_german <span class="ot">&lt;-</span> stop_word_german <span class="sc">%&gt;%</span> </span>
<span id="cb385-12"><a href="solutions.html#cb385-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;beim&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb385-13"><a href="solutions.html#cb385-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;and&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-14"><a href="solutions.html#cb385-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;mehr&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-15"><a href="solutions.html#cb385-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;ganz&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-16"><a href="solutions.html#cb385-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;fast&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-17"><a href="solutions.html#cb385-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;klar&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-18"><a href="solutions.html#cb385-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;mal&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-19"><a href="solutions.html#cb385-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;dat&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-20"><a href="solutions.html#cb385-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;biste&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-21"><a href="solutions.html#cb385-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;schon&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-22"><a href="solutions.html#cb385-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;gell&quot;</span>)  <span class="sc">%&gt;%</span></span>
<span id="cb385-23"><a href="solutions.html#cb385-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;dass&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-24"><a href="solutions.html#cb385-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;seit&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-25"><a href="solutions.html#cb385-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;ja&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-26"><a href="solutions.html#cb385-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;wohl&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-27"><a href="solutions.html#cb385-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;gar&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-28"><a href="solutions.html#cb385-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;ne&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-29"><a href="solutions.html#cb385-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;sone&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-30"><a href="solutions.html#cb385-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;dar&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-31"><a href="solutions.html#cb385-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;ahja&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-32"><a href="solutions.html#cb385-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;eher&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-33"><a href="solutions.html#cb385-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;naja&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-34"><a href="solutions.html#cb385-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;yes&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-35"><a href="solutions.html#cb385-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;pls&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-36"><a href="solutions.html#cb385-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;halt&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-37"><a href="solutions.html#cb385-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;hast&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-38"><a href="solutions.html#cb385-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;hat&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-39"><a href="solutions.html#cb385-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;wurde&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-40"><a href="solutions.html#cb385-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;wurden&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-41"><a href="solutions.html#cb385-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;wurdest&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-42"><a href="solutions.html#cb385-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;gib&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-43"><a href="solutions.html#cb385-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;gibst&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-44"><a href="solutions.html#cb385-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;gibt&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-45"><a href="solutions.html#cb385-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;entweder&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-46"><a href="solutions.html#cb385-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;beinahe&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb385-47"><a href="solutions.html#cb385-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;ganz&quot;</span>)</span>
<span id="cb385-48"><a href="solutions.html#cb385-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb385-49"><a href="solutions.html#cb385-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Third: remove German stop words from tokens</span></span>
<span id="cb385-50"><a href="solutions.html#cb385-50" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="ot">&lt;-</span> data_tknzd <span class="sc">%&gt;%</span> </span>
<span id="cb385-51"><a href="solutions.html#cb385-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>word <span class="sc">%in%</span> stop_word_german<span class="sc">$</span>word)</span></code></pre></div>
</div>
<div id="task-4-lemmatizing-stemming" class="section level3 unnumbered hasAnchor">
<h3>Task 4: Lemmatizing &amp; stemming<a href="solutions.html#task-4-lemmatizing-stemming" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Please stem the Kliemann data with the PorterStemmer. Since we are
working with German data, you’ll have to add the option
<code>language = "german"</code> to the <code>wordStem()</code> function.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb386-1"><a href="solutions.html#cb386-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First: import the Porter stemmer</span></span>
<span id="cb386-2"><a href="solutions.html#cb386-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SnowballC)</span>
<span id="cb386-3"><a href="solutions.html#cb386-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb386-4"><a href="solutions.html#cb386-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Second: apply the PorterStemmer to your tokens</span></span>
<span id="cb386-5"><a href="solutions.html#cb386-5" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="ot">&lt;-</span> data_tknzd <span class="sc">%&gt;%</span></span>
<span id="cb386-6"><a href="solutions.html#cb386-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">wordStem</span>(word, <span class="at">language =</span> <span class="st">&quot;german&quot;</span>))</span></code></pre></div>
</div>
<div id="task-5-pruning" class="section level3 hasAnchor" number="7.7.1">
<h3><span class="header-section-number">7.7.1</span> Task 5: Pruning<a href="solutions.html#task-5-pruning" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Please, try the <code>prune</code> function for yourself. Prune the Kliemann data
and remove 1) words that occur in less than 0.03% of all tweets and 2)
words that occur in more than 95% of all tweets.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="solutions.html#cb387-1" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="ot">&lt;-</span> <span class="fu">prune</span>(data_tknzd, tweet, word, text, user, <span class="fl">0.003</span>, <span class="fl">0.95</span>)</span></code></pre></div>
</div>
<div id="task-5-model-estimation" class="section level3 unnumbered hasAnchor">
<h3>Task 5: Model estimation<a href="solutions.html#task-5-model-estimation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>(Install +) Load the <code>topicmodels</code> package. Next, cast the tidy text
data <em>data_tknzd</em> into a <em>dfm</em> that the <code>topicmodels</code> can use to
calculate topic models. Finally, estimate an LDA-based topic model with
3 topics.</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb388-1"><a href="solutions.html#cb388-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First, load the `topicmodels` package</span></span>
<span id="cb388-2"><a href="solutions.html#cb388-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(topicmodels)</span>
<span id="cb388-3"><a href="solutions.html#cb388-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb388-4"><a href="solutions.html#cb388-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Second, cast the tidy data set into a dfm</span></span>
<span id="cb388-5"><a href="solutions.html#cb388-5" aria-hidden="true" tabindex="-1"></a>dfm <span class="ot">&lt;-</span> data_tknzd <span class="sc">%&gt;%</span></span>
<span id="cb388-6"><a href="solutions.html#cb388-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tweet, text, word) <span class="sc">%&gt;%</span></span>
<span id="cb388-7"><a href="solutions.html#cb388-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(tweet, word, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb388-8"><a href="solutions.html#cb388-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cast_dfm</span>(tweet, word, n)</span>
<span id="cb388-9"><a href="solutions.html#cb388-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb388-10"><a href="solutions.html#cb388-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Third, estimate the LDA models with 3 topics</span></span>
<span id="cb388-11"><a href="solutions.html#cb388-11" aria-hidden="true" tabindex="-1"></a>lda <span class="ot">&lt;-</span> <span class="fu">LDA</span>(dfm, <span class="at">k =</span> <span class="dv">3</span>, <span class="at">control =</span> <span class="fu">list</span>(<span class="at">seed =</span> <span class="dv">123</span>))</span></code></pre></div>
</div>
<div id="task-6-word-topic-probabilities" class="section level3 unnumbered hasAnchor">
<h3>Task 6: Word-topic probabilities<a href="solutions.html#task-6-word-topic-probabilities" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now it’s your turn. Inspect the word-topic probabilities of the topics
in the Kliemann data. To this end cast your <em>lda</em> model back into the
tidy text format while calculating the beta values.</p>
<p>After that, try to visualize your tidy data.</p>
<p>Finally, evaluate the topic model that you see. What are the topics
about? Are there any words that you would like to add to the stop word
list, i.e., that you would like to exclude when rerunning the LDA
analysis to produce better results?</p>
<p><em>Solution:</em></p>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="solutions.html#cb389-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First, cast back your data into the tidy format</span></span>
<span id="cb389-2"><a href="solutions.html#cb389-2" aria-hidden="true" tabindex="-1"></a>tidy_lda <span class="ot">&lt;-</span> <span class="fu">tidy</span>(lda, <span class="at">matrix =</span> <span class="st">&quot;beta&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># matrix = &quot;beta&quot; creates the word-topic probabilities</span></span>
<span id="cb389-3"><a href="solutions.html#cb389-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">word =</span> term)</span>
<span id="cb389-4"><a href="solutions.html#cb389-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb389-5"><a href="solutions.html#cb389-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Second, visualize your data with ggplot</span></span>
<span id="cb389-6"><a href="solutions.html#cb389-6" aria-hidden="true" tabindex="-1"></a>tidy_lda <span class="sc">%&gt;%</span></span>
<span id="cb389-7"><a href="solutions.html#cb389-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(topic) <span class="sc">%&gt;%</span></span>
<span id="cb389-8"><a href="solutions.html#cb389-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(beta)) <span class="sc">%&gt;%</span></span>
<span id="cb389-9"><a href="solutions.html#cb389-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n=</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb389-10"><a href="solutions.html#cb389-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb389-11"><a href="solutions.html#cb389-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">reorder</span>(word, beta), <span class="at">y=</span>beta, <span class="at">fill =</span> <span class="fu">factor</span>(topic))) <span class="sc">+</span></span>
<span id="cb389-12"><a href="solutions.html#cb389-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb389-13"><a href="solutions.html#cb389-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#9FC6C0&quot;</span>,<span class="st">&quot;#5495AD&quot;</span>,<span class="st">&quot;#08333F&quot;</span>)) <span class="sc">+</span></span>
<span id="cb389-14"><a href="solutions.html#cb389-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb389-15"><a href="solutions.html#cb389-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>topic, <span class="at">scales=</span><span class="st">&quot;free&quot;</span>, <span class="at">labeller =</span> <span class="fu">as_labeller</span>(<span class="fu">c</span>(<span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Topic 1&quot;</span>, <span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Topic 2&quot;</span>, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Topic 3&quot;</span>))) <span class="sc">+</span></span>
<span id="cb389-16"><a href="solutions.html#cb389-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;word&quot;</span>) <span class="sc">+</span></span>
<span id="cb389-17"><a href="solutions.html#cb389-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="Digital-Media_files/figure-html/unnamed-chunk-226-1.png" width="672" /></p>
<p>Topic 1 might deal with Fynn Kliemann’s communication strategy, i.e.
whether his reaction videos were a good or a bad idea to stop the
shitstorm.</p>
<p>Topic 2 is not clearly identifiable, but it seems to deal with more
recent events, namely that Fynn Kliemann partially retracted his guilty
plea in June. Instead, he blamed the “woke left” and its “cancel
culture” for the shitstorm against himself and his company Kliemannsland
GmbH.</p>
<p>Topic 3 clearly deals with the mask fraud scandal involving Fynn
Kliemann and the fair-trade store he runs, which is called “ODERSO”.</p>
<p>Looking at the results, it might be a good idea to exclude different
versions of the name “Fynn Kliemann” prior to the LDA estimation by
adding these names to the stop word list. Currently, the names are
obscuring the results. As a quick (and dirty) fix, we can just exclude
them from our visualization:</p>
<div class="sourceCode" id="cb390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb390-1"><a href="solutions.html#cb390-1" aria-hidden="true" tabindex="-1"></a>tidy_lda <span class="sc">%&gt;%</span></span>
<span id="cb390-2"><a href="solutions.html#cb390-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word <span class="sc">!=</span> <span class="st">&quot;kliemann&quot;</span>, word <span class="sc">!=</span> <span class="st">&quot;fynn&quot;</span>, word <span class="sc">!=</span> <span class="st">&quot;#fynnkliemann&quot;</span>, word <span class="sc">!=</span> <span class="st">&quot;#kliemann&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb390-3"><a href="solutions.html#cb390-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(topic) <span class="sc">%&gt;%</span></span>
<span id="cb390-4"><a href="solutions.html#cb390-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(beta)) <span class="sc">%&gt;%</span></span>
<span id="cb390-5"><a href="solutions.html#cb390-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n=</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb390-6"><a href="solutions.html#cb390-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb390-7"><a href="solutions.html#cb390-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">reorder</span>(word, beta), <span class="at">y=</span>beta, <span class="at">fill =</span> <span class="fu">factor</span>(topic))) <span class="sc">+</span></span>
<span id="cb390-8"><a href="solutions.html#cb390-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb390-9"><a href="solutions.html#cb390-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#9FC6C0&quot;</span>,<span class="st">&quot;#5495AD&quot;</span>,<span class="st">&quot;#08333F&quot;</span>)) <span class="sc">+</span></span>
<span id="cb390-10"><a href="solutions.html#cb390-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb390-11"><a href="solutions.html#cb390-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>topic, <span class="at">scales=</span><span class="st">&quot;free&quot;</span>, <span class="at">labeller =</span> <span class="fu">as_labeller</span>(<span class="fu">c</span>(<span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Topic 1&quot;</span>, <span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Topic 2&quot;</span>, <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;Topic 3&quot;</span>))) <span class="sc">+</span></span>
<span id="cb390-12"><a href="solutions.html#cb390-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;word&quot;</span>) <span class="sc">+</span></span>
<span id="cb390-13"><a href="solutions.html#cb390-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="Digital-Media_files/figure-html/unnamed-chunk-227-1.png" width="672" /></p>
</div>
<div id="task-7-document-topic-probabilities" class="section level3 unnumbered hasAnchor">
<h3>Task 7: Document-topic probabilities<a href="solutions.html#task-7-document-topic-probabilities" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>What tweets are associated with these topics? Cast the <em>lda</em> model into
the tidy text format and calculate the gamma scores to investigate
document-topic probabilities.</p>
<p>Next, investigate the tweet that scores highest on the document-topic
probabilities for Topic 1 and Topic 3. Do the tweets match your
interpretation of the topics?</p>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="solutions.html#cb391-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First, turn the lda model back into a tidy data frame and calculate the gamma scores:</span></span>
<span id="cb391-2"><a href="solutions.html#cb391-2" aria-hidden="true" tabindex="-1"></a>tidy_lda2 <span class="ot">&lt;-</span> <span class="fu">tidy</span>(lda, <span class="at">matrix =</span> <span class="st">&quot;gamma&quot;</span>)</span>
<span id="cb391-3"><a href="solutions.html#cb391-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb391-4"><a href="solutions.html#cb391-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Second, look at the tweets that have the highest probability for Topic 1 </span></span>
<span id="cb391-5"><a href="solutions.html#cb391-5" aria-hidden="true" tabindex="-1"></a>tidy_lda2 <span class="sc">%&gt;%</span></span>
<span id="cb391-6"><a href="solutions.html#cb391-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb391-7"><a href="solutions.html#cb391-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(gamma))</span></code></pre></div>
<pre><code>## # A tibble: 28,979 x 3
##    document topic gamma
##    &lt;chr&gt;    &lt;int&gt; &lt;dbl&gt;
##  1 19066        1 0.984
##  2 19068        1 0.984
##  3 19191        1 0.984
##  4 19328        1 0.984
##  5 19330        1 0.984
##  6 19338        1 0.984
##  7 19339        1 0.984
##  8 19349        1 0.984
##  9 19350        1 0.984
## 10 19379        1 0.984
## # ... with 28,969 more rows</code></pre>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="solutions.html#cb393-1" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="sc">%&gt;%</span></span>
<span id="cb393-2"><a href="solutions.html#cb393-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tweet, text) <span class="sc">%&gt;%</span> </span>
<span id="cb393-3"><a href="solutions.html#cb393-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tweet <span class="sc">==</span> <span class="dv">10277</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb393-4"><a href="solutions.html#cb393-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>()<span class="sc">==</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb393-5"><a href="solutions.html#cb393-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(text)</span></code></pre></div>
<pre><code>## [1] &quot;@anwaltsgelaber Keine sorgen Fynn Kliemann plant schon die nächste Inst.&quot;</code></pre>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="solutions.html#cb395-1" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="sc">%&gt;%</span></span>
<span id="cb395-2"><a href="solutions.html#cb395-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tweet, text) <span class="sc">%&gt;%</span> </span>
<span id="cb395-3"><a href="solutions.html#cb395-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tweet <span class="sc">==</span> <span class="dv">752</span>) <span class="sc">%&gt;%</span></span>
<span id="cb395-4"><a href="solutions.html#cb395-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>()<span class="sc">==</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb395-5"><a href="solutions.html#cb395-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(text)</span></code></pre></div>
<pre><code>## [1] &quot;@SpambotZombie @Hugiwugi @kliemannsland @fimbim Wer zahlt eigentlich, wenn sich da mal jemand in diesem Freizeitpark an den Fahrgeschäften verletzt? Das sieht ja in den Videos nach einer recht oberflächlichen Sicherheitsprüfung aus.&quot;</code></pre>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="solutions.html#cb397-1" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="sc">%&gt;%</span></span>
<span id="cb397-2"><a href="solutions.html#cb397-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tweet, text) <span class="sc">%&gt;%</span> </span>
<span id="cb397-3"><a href="solutions.html#cb397-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tweet <span class="sc">==</span> <span class="dv">9128</span>) <span class="sc">%&gt;%</span></span>
<span id="cb397-4"><a href="solutions.html#cb397-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>()<span class="sc">==</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb397-5"><a href="solutions.html#cb397-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(text)</span></code></pre></div>
<pre><code>## [1] &quot;Bitte keinen Kliemann content posten, sonst muss ich noch sein Insta anschauen und dat will ich ned.\n\nWirklich interessiert mich dieses Würstchen null.&quot;</code></pre>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="solutions.html#cb399-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Third, look at the tweets that have the highest probability</span></span>
<span id="cb399-2"><a href="solutions.html#cb399-2" aria-hidden="true" tabindex="-1"></a>tidy_lda2 <span class="sc">%&gt;%</span></span>
<span id="cb399-3"><a href="solutions.html#cb399-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(topic <span class="sc">==</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb399-4"><a href="solutions.html#cb399-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(gamma))</span></code></pre></div>
<pre><code>## # A tibble: 28,979 x 3
##    document topic gamma
##    &lt;chr&gt;    &lt;int&gt; &lt;dbl&gt;
##  1 9559         3 0.981
##  2 16806        3 0.981
##  3 16812        3 0.981
##  4 16820        3 0.981
##  5 16837        3 0.981
##  6 16860        3 0.981
##  7 16865        3 0.981
##  8 16870        3 0.981
##  9 16871        3 0.981
## 10 16880        3 0.981
## # ... with 28,969 more rows</code></pre>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="solutions.html#cb401-1" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="sc">%&gt;%</span></span>
<span id="cb401-2"><a href="solutions.html#cb401-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tweet, text) <span class="sc">%&gt;%</span> </span>
<span id="cb401-3"><a href="solutions.html#cb401-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tweet <span class="sc">==</span> <span class="dv">7002</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb401-4"><a href="solutions.html#cb401-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>()<span class="sc">==</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb401-5"><a href="solutions.html#cb401-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(text)</span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="solutions.html#cb403-1" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="sc">%&gt;%</span></span>
<span id="cb403-2"><a href="solutions.html#cb403-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tweet, text) <span class="sc">%&gt;%</span> </span>
<span id="cb403-3"><a href="solutions.html#cb403-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tweet <span class="sc">==</span> <span class="dv">2131</span>) <span class="sc">%&gt;%</span></span>
<span id="cb403-4"><a href="solutions.html#cb403-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>()<span class="sc">==</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb403-5"><a href="solutions.html#cb403-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(text)</span></code></pre></div>
<pre><code>## [1] &quot;@vom_so @trokon96045102 @mathiasrichel @niggi @fimbim Thats IT. \nAlso von mir keine 2te Chance. Er hatte nämlich nicht mal eine erste, der arme finn ;)&quot;</code></pre>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="solutions.html#cb405-1" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="sc">%&gt;%</span></span>
<span id="cb405-2"><a href="solutions.html#cb405-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tweet, text) <span class="sc">%&gt;%</span> </span>
<span id="cb405-3"><a href="solutions.html#cb405-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tweet <span class="sc">==</span> <span class="dv">4903</span>) <span class="sc">%&gt;%</span></span>
<span id="cb405-4"><a href="solutions.html#cb405-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>()<span class="sc">==</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb405-5"><a href="solutions.html#cb405-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(text)</span></code></pre></div>
<pre><code>## [1] &quot;@a_usem @Mitmensch_in @AmbastianK @niggi @janboehm @fimbim Deine goldene Regel könnte es einfach mal sein, dich vor allem zu Themen zu äußern, von denen du Ahnung hast.\n\nUnd natürlich ist es schwachsinnig, dass Arbeitsschutz keine Bedeutung hat, sobald freiwillig gearbeitet wird, speziell, da es nicht einmal um einen Privathaushalt geht.&quot;</code></pre>
</div>
<div id="task-8-sentiment-over-time" class="section level3 unnumbered hasAnchor">
<h3>Task 8: Sentiment over time<a href="solutions.html#task-8-sentiment-over-time" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Alright, we are ready to perform a sentiment analysis for the Kliemann data. Again, we cannot use the <code>tidytext</code> dictionaries because they were developed only for the English language. However, I’ve prepared a German dictionary for you that is based on <a href="https://www.tandfonline.com/doi/full/10.1080/19331681.2018.1485608">this article by Christian Rauh</a>. You can find the dictionary as a .csv on Moodle. Use it to analyze the sentiment of the Kliemann data over time. <strong>Hint:</strong> You will need to follow the sum(value) approach that I used on the <code>afinn</code> dictionary because the dictionary comes with a <code>value</code> column (metric variable) instead of a <code>sentiment</code> column (nominal variable).</p>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="solutions.html#cb407-1" aria-hidden="true" tabindex="-1"></a>sentiWS <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;SentiWS_Rauh_dictionary.csv&quot;</span>)</span>
<span id="cb407-2"><a href="solutions.html#cb407-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb407-3"><a href="solutions.html#cb407-3" aria-hidden="true" tabindex="-1"></a>data_tknzd <span class="sc">%&gt;%</span></span>
<span id="cb407-4"><a href="solutions.html#cb407-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(sentiWS) <span class="sc">%&gt;%</span></span>
<span id="cb407-5"><a href="solutions.html#cb407-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(time) <span class="sc">%&gt;%</span></span>
<span id="cb407-6"><a href="solutions.html#cb407-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sentiment =</span> <span class="fu">sum</span>(value)) <span class="sc">%&gt;%</span></span>
<span id="cb407-7"><a href="solutions.html#cb407-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> time, <span class="at">y =</span> sentiment)) <span class="sc">+</span></span>
<span id="cb407-8"><a href="solutions.html#cb407-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb407-9"><a href="solutions.html#cb407-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;SentiWS (Rauh) dictionary&quot;</span>) <span class="sc">+</span></span>
<span id="cb407-10"><a href="solutions.html#cb407-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb407-11"><a href="solutions.html#cb407-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="Digital-Media_files/figure-html/unnamed-chunk-229-1.png" width="672" /></p>
<p>This graph looks as if the debate around Kliemann was polarized, i.e., that negative buzz also produced positive counterarguing (at least most of the time).</p>

</div>
</div>
</div>















            </section>

          </div>
        </div>
      </div>
<a href="tidy-text-analysis.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/LKobilke/Digitalbranche/edit/main/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Digital Media.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
